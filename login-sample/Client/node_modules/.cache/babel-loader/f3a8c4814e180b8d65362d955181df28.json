{"ast":null,"code":"var _jsxFileName = \"/home/bs94/Desktop/login-sample/src/components/modules/LoginUseReducer.js\";\nimport React, { useReducer } from 'react';\nimport login from '../tools/LoginTools';\nconst initialState = {\n  username: '',\n  password: '',\n  isLoading: false,\n  error: '',\n  isLoggedIn: false\n};\n\nfunction loginReducer(state, action) {\n  switch (action.type) {\n    case 'field':\n      {\n        return { ...state,\n          [action.fieldName]: action.payload\n        };\n      }\n\n    case 'login':\n      {\n        return { ...state,\n          error: '',\n          isLoading: true\n        };\n      }\n\n    case 'success':\n      {\n        return { ...state,\n          isLoggedIn: true,\n          isLoading: false\n        };\n      }\n\n    case 'error':\n      {\n        return { ...state,\n          error: 'Incorrect username or password!',\n          isLoggedIn: false,\n          isLoading: false,\n          username: '',\n          password: ''\n        };\n      }\n\n    case 'logOut':\n      {\n        return { ...state,\n          isLoggedIn: false\n        };\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default function LoginUseReducer() {\n  const [state, dispatch] = useReducer(loginReducer, initialState);\n  const {\n    username,\n    password,\n    isLoading,\n    error,\n    isLoggedIn\n  } = state;\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    dispatch({\n      type: 'login'\n    });\n\n    try {\n      await login({\n        username,\n        password\n      });\n      dispatch({\n        type: 'success'\n      });\n    } catch (error) {\n      dispatch({\n        type: 'error'\n      });\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, isLoggedIn ? React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Welcome \", username, \"!\"), React.createElement(\"button\", {\n    onClick: () => dispatch({\n      type: 'logOut'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Log Out\")) : React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, error && React.createElement(\"p\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, error), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Please Login!\"), React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"username\",\n    value: username,\n    onChange: e => dispatch({\n      type: 'field',\n      fieldName: 'username',\n      payload: e.currentTarget.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"password\",\n    autoComplete: \"new-password\",\n    value: password,\n    onChange: e => dispatch({\n      type: 'field',\n      fieldName: 'password',\n      payload: e.currentTarget.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"submit\",\n    type: \"submit\",\n    disabled: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, isLoading ? 'Logging in...' : 'Log In'))));\n}","map":{"version":3,"sources":["/home/bs94/Desktop/login-sample/src/components/modules/LoginUseReducer.js"],"names":["React","useReducer","login","initialState","username","password","isLoading","error","isLoggedIn","loginReducer","state","action","type","fieldName","payload","LoginUseReducer","dispatch","onSubmit","e","preventDefault","currentTarget","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,QAAQ,EAAE,EADU;AAEpBC,EAAAA,QAAQ,EAAE,EAFU;AAGpBC,EAAAA,SAAS,EAAE,KAHS;AAIpBC,EAAAA,KAAK,EAAE,EAJa;AAKpBC,EAAAA,UAAU,EAAE;AALQ,CAArB;;AAQA,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;AACpC,UAAQA,MAAM,CAACC,IAAf;AACC,SAAK,OAAL;AAAc;AACb,eAAO,EACN,GAAGF,KADG;AAEN,WAACC,MAAM,CAACE,SAAR,GAAoBF,MAAM,CAACG;AAFrB,SAAP;AAIA;;AACD,SAAK,OAAL;AAAc;AACb,eAAO,EACN,GAAGJ,KADG;AAENH,UAAAA,KAAK,EAAE,EAFD;AAGND,UAAAA,SAAS,EAAE;AAHL,SAAP;AAKA;;AACD,SAAK,SAAL;AAAgB;AACf,eAAO,EACN,GAAGI,KADG;AAENF,UAAAA,UAAU,EAAE,IAFN;AAGNF,UAAAA,SAAS,EAAE;AAHL,SAAP;AAKA;;AACD,SAAK,OAAL;AAAc;AACb,eAAO,EACN,GAAGI,KADG;AAENH,UAAAA,KAAK,EAAE,iCAFD;AAGNC,UAAAA,UAAU,EAAE,KAHN;AAINF,UAAAA,SAAS,EAAE,KAJL;AAKNF,UAAAA,QAAQ,EAAE,EALJ;AAMNC,UAAAA,QAAQ,EAAE;AANJ,SAAP;AAQA;;AACD,SAAK,QAAL;AAAe;AACd,eAAO,EACN,GAAGK,KADG;AAENF,UAAAA,UAAU,EAAE;AAFN,SAAP;AAIA;;AACD;AACC,aAAOE,KAAP;AAtCF;AAwCA;;AAED,eAAe,SAASK,eAAT,GAA2B;AACzC,QAAM,CAACL,KAAD,EAAQM,QAAR,IAAoBf,UAAU,CAACQ,YAAD,EAAeN,YAAf,CAApC;AACA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA,SAAtB;AAAiCC,IAAAA,KAAjC;AAAwCC,IAAAA;AAAxC,MAAuDE,KAA7D;;AAEA,QAAMO,QAAQ,GAAG,MAAMC,CAAN,IAAW;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AAEAH,IAAAA,QAAQ,CAAC;AAAEJ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;;AAEA,QAAI;AACH,YAAMV,KAAK,CAAC;AAAEE,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,OAAD,CAAX;AACAW,MAAAA,QAAQ,CAAC;AAAEJ,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACA,KAHD,CAGE,OAAOL,KAAP,EAAc;AACfS,MAAAA,QAAQ,CAAC;AAAEJ,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACA;AACD,GAXD;;AAaA,SACC;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEJ,UAAU,GACV,0CACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAaJ,QAAb,MADD,EAEC;AAAQ,IAAA,OAAO,EAAE,MAAMY,QAAQ,CAAC;AAAEJ,MAAAA,IAAI,EAAE;AAAR,KAAD,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFD,CADU,GAQV;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAuB,IAAA,QAAQ,EAAEK,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEV,KAAK,IAAI;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBA,KAAtB,CADX,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFD,EAGC;AACC,IAAA,IAAI,EAAC,MADN;AAEC,IAAA,WAAW,EAAC,UAFb;AAGC,IAAA,KAAK,EAAEH,QAHR;AAIC,IAAA,QAAQ,EAAEc,CAAC,IACVF,QAAQ,CAAC;AACRJ,MAAAA,IAAI,EAAE,OADE;AAERC,MAAAA,SAAS,EAAE,UAFH;AAGRC,MAAAA,OAAO,EAAEI,CAAC,CAACE,aAAF,CAAgBC;AAHjB,KAAD,CALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,EAeC;AACC,IAAA,IAAI,EAAC,UADN;AAEC,IAAA,WAAW,EAAC,UAFb;AAGC,IAAA,YAAY,EAAC,cAHd;AAIC,IAAA,KAAK,EAAEhB,QAJR;AAKC,IAAA,QAAQ,EAAEa,CAAC,IACVF,QAAQ,CAAC;AACRJ,MAAAA,IAAI,EAAE,OADE;AAERC,MAAAA,SAAS,EAAE,UAFH;AAGRC,MAAAA,OAAO,EAAEI,CAAC,CAACE,aAAF,CAAgBC;AAHjB,KAAD,CANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfD,EA4BC;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,IAAI,EAAC,QAAhC;AAAyC,IAAA,QAAQ,EAAEf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEA,SAAS,GAAG,eAAH,GAAqB,QADhC,CA5BD,CATF,CADD,CADD;AA+CA","sourcesContent":["import React, { useReducer } from 'react';\nimport login from '../tools/LoginTools';\n\nconst initialState = {\n\tusername: '',\n\tpassword: '',\n\tisLoading: false,\n\terror: '',\n\tisLoggedIn: false\n};\n\nfunction loginReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'field': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.fieldName]: action.payload\n\t\t\t};\n\t\t}\n\t\tcase 'login': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: '',\n\t\t\t\tisLoading: true\n\t\t\t};\n\t\t}\n\t\tcase 'success': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoggedIn: true,\n\t\t\t\tisLoading: false\n\t\t\t};\n\t\t}\n\t\tcase 'error': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: 'Incorrect username or password!',\n\t\t\t\tisLoggedIn: false,\n\t\t\t\tisLoading: false,\n\t\t\t\tusername: '',\n\t\t\t\tpassword: ''\n\t\t\t};\n\t\t}\n\t\tcase 'logOut': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoggedIn: false\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default function LoginUseReducer() {\n\tconst [state, dispatch] = useReducer(loginReducer, initialState);\n\tconst { username, password, isLoading, error, isLoggedIn } = state;\n\n\tconst onSubmit = async e => {\n\t\te.preventDefault();\n\n\t\tdispatch({ type: 'login' });\n\n\t\ttry {\n\t\t\tawait login({ username, password });\n\t\t\tdispatch({ type: 'success' });\n\t\t} catch (error) {\n\t\t\tdispatch({ type: 'error' });\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<div className=\"login-container\">\n\t\t\t\t{isLoggedIn ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h1>Welcome {username}!</h1>\n\t\t\t\t\t\t<button onClick={() => dispatch({ type: 'logOut' })}>\n\t\t\t\t\t\t\tLog Out\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<form className=\"form\" onSubmit={onSubmit}>\n\t\t\t\t\t\t{error && <p className=\"error\">{error}</p>}\n\t\t\t\t\t\t<p>Please Login!</p>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: 'field',\n\t\t\t\t\t\t\t\t\tfieldName: 'username',\n\t\t\t\t\t\t\t\t\tpayload: e.currentTarget.value\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\t\t\tautoComplete=\"new-password\"\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={e =>\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: 'field',\n\t\t\t\t\t\t\t\t\tfieldName: 'password',\n\t\t\t\t\t\t\t\t\tpayload: e.currentTarget.value\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button className=\"submit\" type=\"submit\" disabled={isLoading}>\n\t\t\t\t\t\t\t{isLoading ? 'Logging in...' : 'Log In'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}