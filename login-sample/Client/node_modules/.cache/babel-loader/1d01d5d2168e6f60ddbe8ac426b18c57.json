{"ast":null,"code":"var _jsxFileName = \"/home/bs94/Desktop/login-sample/Client/src/components/landing_pages/signin_form.js\";\nimport React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Context } from '../../contexts';\nimport { get } from '../../utils/api';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport Login from './login';\nimport Validate from '../../utils/validate';\nimport { post } from '../../utils/api';\nconst initialState = {\n  email: '',\n  password: ''\n};\nconst initialValidateState = {\n  errors: {},\n  isLoading: false\n};\nexport default function SignInForm({\n  history\n}) {\n  const {\n    stateAccount,\n    handleAccount\n  } = useContext(Context);\n  const [user, setUser] = useState(initialState);\n  const [validate, setValidate] = useState(initialValidateState);\n  const error = Validate(stateAccount, user, 'sign-in');\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setValidate({ ...validate,\n      errors: error,\n      isLoading: true\n    });\n\n    if (Object.keys(error).length === 0) {\n      setTimeout(() => {\n        get('/users').then(res => {\n          let result = res.data.filter(account => account.email === user.email && account.password === user.password);\n          console.log(result);\n        }); // if (result) {\n        // \tpost('/users', user).then(res => {\n        // \t\thandleAccount({\n        // \t\t\tis_authenticated: res.data.accessToken,\n        // \t\t\tdb_profile: user\n        // \t\t});\n        // \t\tlocalStorage.setItem('notification', 'Successfully Signed In!');\n        // \t\thistory.push('/main-page');\n        // \t});\n        // } else {\n        // \tNotificationManager.error(`Invalid email and password`);\n        // \tsetValidate(initialValidateState);\n        // }\n      }, 1000);\n    } else {\n      setValidate({ ...validate,\n        errors: error,\n        isLoading: false\n      });\n    }\n  };\n\n  return React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(NotificationContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"FormCenter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"FormFields\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"FormField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"FormField__Label\",\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"E-Mail Address\"), React.createElement(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    className: \"FormField__Input\",\n    placeholder: \"Enter your email\",\n    name: \"email\",\n    value: user.email,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, validate.errors.email)), React.createElement(\"div\", {\n    className: \"FormField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"FormField__Label\",\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    className: \"FormField__Input\",\n    placeholder: \"Enter your password\",\n    name: \"password\",\n    value: user.password,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, validate.errors.password)), React.createElement(\"div\", {\n    className: \"FormField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"FormField__Button mr-20\",\n    style: {\n      marginRight: '20px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, validate.isLoading ? 'Loading ...' : 'Sign In'), ' ', React.createElement(Link, {\n    to: \"/\",\n    className: \"FormField__Link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Create an account\")))));\n}","map":{"version":3,"sources":["/home/bs94/Desktop/login-sample/Client/src/components/landing_pages/signin_form.js"],"names":["React","useState","useContext","Link","Context","get","NotificationContainer","NotificationManager","Login","Validate","post","initialState","email","password","initialValidateState","errors","isLoading","SignInForm","history","stateAccount","handleAccount","user","setUser","validate","setValidate","error","handleChange","e","name","value","target","handleSubmit","preventDefault","Object","keys","length","setTimeout","then","res","result","data","filter","account","console","log","color","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Context } from '../../contexts';\nimport { get } from '../../utils/api';\n\nimport {\n\tNotificationContainer,\n\tNotificationManager\n} from 'react-notifications';\n\nimport Login from './login';\nimport Validate from '../../utils/validate';\nimport { post } from '../../utils/api';\n\nconst initialState = {\n\temail: '',\n\tpassword: ''\n};\n\nconst initialValidateState = {\n\terrors: {},\n\tisLoading: false\n};\n\nexport default function SignInForm({ history }) {\n\tconst { stateAccount, handleAccount } = useContext(Context);\n\tconst [user, setUser] = useState(initialState);\n\tconst [validate, setValidate] = useState(initialValidateState);\n\tconst error = Validate(stateAccount, user, 'sign-in');\n\n\tconst handleChange = e => {\n\t\tconst { name, value } = e.target;\n\t\tsetUser({\n\t\t\t...user,\n\t\t\t[name]: value\n\t\t});\n\t};\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\n\t\tsetValidate({\n\t\t\t...validate,\n\t\t\terrors: error,\n\t\t\tisLoading: true\n\t\t});\n\n\t\tif (Object.keys(error).length === 0) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tget('/users').then(res => {\n\t\t\t\t\tlet result = res.data.filter(\n\t\t\t\t\t\taccount =>\n\t\t\t\t\t\t\taccount.email === user.email && account.password === user.password\n\t\t\t\t\t);\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t});\n\t\t\t\t// if (result) {\n\t\t\t\t// \tpost('/users', user).then(res => {\n\t\t\t\t// \t\thandleAccount({\n\t\t\t\t// \t\t\tis_authenticated: res.data.accessToken,\n\t\t\t\t// \t\t\tdb_profile: user\n\t\t\t\t// \t\t});\n\t\t\t\t// \t\tlocalStorage.setItem('notification', 'Successfully Signed In!');\n\t\t\t\t// \t\thistory.push('/main-page');\n\t\t\t\t// \t});\n\t\t\t\t// } else {\n\t\t\t\t// \tNotificationManager.error(`Invalid email and password`);\n\t\t\t\t// \tsetValidate(initialValidateState);\n\t\t\t\t// }\n\t\t\t}, 1000);\n\t\t} else {\n\t\t\tsetValidate({\n\t\t\t\t...validate,\n\t\t\t\terrors: error,\n\t\t\t\tisLoading: false\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<Login>\n\t\t\t<NotificationContainer />\n\t\t\t<div className=\"FormCenter\">\n\t\t\t\t<form onSubmit={handleSubmit} className=\"FormFields\">\n\t\t\t\t\t<div className=\"FormField\">\n\t\t\t\t\t\t<label className=\"FormField__Label\" htmlFor=\"email\">\n\t\t\t\t\t\t\tE-Mail Address\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tclassName=\"FormField__Input\"\n\t\t\t\t\t\t\tplaceholder=\"Enter your email\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<small style={{ color: 'red' }}>{validate.errors.email}</small>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"FormField\">\n\t\t\t\t\t\t<label className=\"FormField__Label\" htmlFor=\"password\">\n\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tclassName=\"FormField__Input\"\n\t\t\t\t\t\t\tplaceholder=\"Enter your password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tvalue={user.password}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<small style={{ color: 'red' }}>{validate.errors.password}</small>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"FormField\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"FormField__Button mr-20\"\n\t\t\t\t\t\t\tstyle={{ marginRight: '20px' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{validate.isLoading ? 'Loading ...' : 'Sign In'}\n\t\t\t\t\t\t</button>{' '}\n\t\t\t\t\t\t<Link to=\"/\" className=\"FormField__Link\">\n\t\t\t\t\t\t\tCreate an account\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</Login>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}